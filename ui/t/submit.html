<sca-menutab menu="appconf.menu" active="'submit'" user="user"></sca-menutab>
<div class="container-fluid">
    {{appconf}}
    <div class="row">
        <div class="col-md-10">
            <h1>Life Demo</h1>
            <p>This UI allows you to runs Franco Pestilli's <a href="http://francopestilli.github.io/life/">Linear Fascicle Evaluation (LiFE)</a> Matlab application on Karst.</p>
            <p>Select an input data file (right now, there is only 1 listed) and click Submit button to run the application. Once the Job is completed (takes about 30 minutes) you will see the data products (PNG images) displayed.</p>
            <p>You can see <a href="/life/#/task/{{appconf.sample_task}}">here</a> for sample output.</p>

            <hr>
            <form ng-submit="submit()" class="form-horizontal">
                <div class="form-group">
                    <label class="col-sm-2 control-label">Input Data</label>
                    <div class="col-sm-10">
                        <ui-select ng-model="config.input" ui-select-required>
                            <ui-select-match placeholder="Please select data to process...">
                                <b>{{$select.selected.name}}</b> <small class="muted">({{$select.selected.url}})</small>
                            </ui-select-match>
                            <ui-select-choices repeat="data in datas">
                                <b>{{data.name}}</b> <small class="muted">({{data.url}})</small><br>
                                {{data.desc}}
                            </ui-select-choices>
                        </ui-select>
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-sm-2 control-label">Parameter X</label>
                    <div class="col-sm-10">
                        <input type="text" ng-model="config.paramx" class="form-control"></input>
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-sm-2 control-label">Parameter Y</label>
                    <div class="col-sm-10">
                        <input type="text" ng-model="config.paramy" class="form-control"></input>
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-sm-2 control-label">Parameter Z</label>
                    <div class="col-sm-10">
                        <input type="text" ng-model="config.paramz" class="form-control"></input>
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-sm-2 control-label">Computing Resource</label>
                    <div class="col-sm-10">
                        <ui-select ng-model="resources.compute" ui-select-required>
                            <ui-select-match placeholder="Please select where you want to execute this task...">
                                <b>{{$select.selected.name}}</b> <small class="muted">({{$select.selected.desc}})</small>
                            </ui-select-match>
                            <ui-select-choices repeat="resource in allresources">
                                <b>{{resource.name}}</b> <small class="muted">({{resource.desc}})</small>
                            </ui-select-choices>
                        </ui-select>
                    </div>
                </div>
                <div class="form-group">
                    <div class="col-sm-offset-2 col-sm-10">
                        <button type="submit" class="btn slide-down" ng-disabled="config.input == null">Submit</button>
                    </div>
                </div>
            </form>
        </div>
        <div class="col-md-2">
            <!--buffer-->
        </div>
    </div>
</div>


